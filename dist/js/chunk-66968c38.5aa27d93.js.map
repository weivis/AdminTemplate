{"version":3,"sources":["webpack:///./src/views/Setmyacc/index.vue?5f68","webpack:///./src/components/UploadHead.vue?ca4b","webpack:///src/components/UploadHead.vue","webpack:///./src/components/UploadHead.vue?97e6","webpack:///./src/components/UploadHead.vue?aeb8","webpack:///src/views/Setmyacc/index.vue","webpack:///./src/views/Setmyacc/index.vue?bbb4","webpack:///./src/views/Setmyacc/index.vue","webpack:///./src/api/common.js","webpack:///./src/api/account.js","webpack:///./src/components/UploadHead.vue?fa61"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","headform","filename","lodpath","on","$event","$set","Savehead","_s","model","value","callback","$$v","username","expression","Saveusername","staticRenderFns","upLoad","_e","uploadkey","ospath","name","props","type","String","default","debug","Boolean","computed","created","methods","formData","append","file","$http","console","log","res","code","message","msg","duration","component","data","components","UploadHead","getuserinfo","upload","request","url","method","headers","authAdminLogin","UserInfo","Changeinfo","Allaccount","Createaccount","Manage"],"mappings":"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","file":"js/chunk-66968c38.5aa27d93.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pagebar-title\"},[_vm._v(\"个人设置\")]),_c('div',{staticClass:\"module\"},[_c('div',{staticClass:\"mtitle\"},[_vm._v(\"修改头像\")]),_c('div',{staticClass:\"li\"},[_c('UploadHead',{staticStyle:{\"float\":\"left\"},attrs:{\"uploadkey\":'userhead',\"filename\":_vm.headform.filename,\"lodpath\":_vm.headform.lodpath},on:{\"update:filename\":function($event){return _vm.$set(_vm.headform, \"filename\", $event)},\"update:lodpath\":function($event){return _vm.$set(_vm.headform, \"lodpath\", $event)}}})],1),_c('div',{staticClass:\"li\"},[_c('el-button',{on:{\"click\":function($event){return _vm.Savehead()}}},[_vm._v(\"保存当前头像\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.headform.filename))])],1)]),_c('div',{staticClass:\"module\"},[_c('div',{staticClass:\"mtitle\"},[_vm._v(\"更改用户名\")]),_c('div',{staticClass:\"li\"},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入内容\",\"maxlength\":\"19\",\"show-word-limit\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('div',{staticClass:\"module\"},[_c('el-button',{on:{\"click\":function($event){return _vm.Saveusername()}}},[_vm._v(\"保存用户名\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"input\"},[_c('el-upload',{attrs:{\"show-file-list\":false,\"drag\":\"\",\"action\":\"\",\"http-request\":_vm.upLoad,\"multiple\":\"\"}},[(_vm.lodpath)?_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.lodpath}}):_vm._e(),_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])]),(_vm.debug)?_c('div',[_vm._v(\" \"+_vm._s(_vm.uploadkey)+\" \"+_vm._s(_vm.filename)+\" \"+_vm._s(_vm.lodpath)+\" \"+_vm._s(_vm.ospath)+\" \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-row class=\"input\">\r\n        <el-upload\r\n            \r\n            :show-file-list=\"false\"\r\n            drag\r\n            action\r\n            :http-request=\"upLoad\"\r\n            multiple\r\n        >\r\n        <img v-if=\"lodpath\" :src=\"lodpath\" class=\"img\" />\r\n        <i class=\"el-icon-upload\"></i>\r\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n      </el-upload>\r\n      <div v-if=\"debug\">\r\n          {{uploadkey}}\r\n          {{filename}}\r\n          {{lodpath}}\r\n          {{ospath}}\r\n      </div>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\nimport { upload } from \"@/api/common\";\r\nexport default {\r\n  name: 'UploadHead',\r\n  props: {\r\n    uploadkey: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    filename: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    lodpath: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    ospath: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    debug: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  computed: {\r\n  },\r\n  created(){\r\n  },\r\n  methods: {\r\n    upLoad(file) {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file.file);\r\n      formData.append(\"uploadKey\", this.uploadkey);\r\n\r\n      this.$http(upload(formData), (res) => {\r\n        console.log(res);\r\n        if (res.code == 200) {\r\n          this.$emit(\"update:lodpath\", res.data.lodpath)\r\n          this.$emit(\"update:filename\", res.data.filename)\r\n          this.$emit(\"update:ospath\", res.data.ospath)\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"error\",\r\n            duration: 5 * 1000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.img{\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadHead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadHead.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadHead.vue?vue&type=template&id=6cd02f41&scoped=true&\"\nimport script from \"./UploadHead.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadHead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadHead.vue?vue&type=style&index=0&id=6cd02f41&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cd02f41\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"pagebar-title\">个人设置</div>\r\n\r\n    <div class=\"module\">\r\n      <div class=\"mtitle\">修改头像</div>\r\n\r\n      <div class=\"li\">\r\n        <UploadHead\r\n          :uploadkey=\"'userhead'\"\r\n          :filename.sync=\"headform.filename\"\r\n          :lodpath.sync=\"headform.lodpath\"\r\n          style=\"float: left\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"li\">\r\n        <el-button @click=\"Savehead()\">保存当前头像</el-button\r\n        ><span> {{ headform.filename }}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"module\">\r\n      <div class=\"mtitle\">更改用户名</div>\r\n      <div class=\"li\">\r\n        <el-input\r\n          type=\"text\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"username\"\r\n          maxlength=\"19\"\r\n          show-word-limit\r\n        >\r\n        </el-input>\r\n      </div>\r\n\r\n      <div class=\"module\">\r\n        <el-button @click=\"Saveusername()\">保存用户名</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport UploadHead from \"@/components/UploadHead.vue\";\r\nimport { uploaduserhead, uploadusername } from \"@/utils/auth\";\r\nimport { UserInfo, Changeinfo } from \"@/api/account\";\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      headform: {\r\n        filename: null,\r\n        lodpath: null,\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    UploadHead,\r\n  },\r\n  methods: {\r\n    getuserinfo() {\r\n      this.$http(UserInfo({}), (res) => {\r\n        console.log(res);\r\n        if (res.code == 200) {\r\n          this.username = res.data.username;\r\n          this.headform.lodpath = res.data.head;\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"error\",\r\n            duration: 5 * 1000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    Savehead() {\r\n      this.$http(\r\n        Changeinfo({\r\n          head: this.headform.filename,\r\n        }),\r\n        (res) => {\r\n          console.log(res);\r\n          if (res.code == 200) {\r\n            this.$message({\r\n              message: res.msg,\r\n              duration: 5 * 1000,\r\n            });\r\n            uploaduserhead(res.data.userhead);\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: \"error\",\r\n              duration: 5 * 1000,\r\n            });\r\n          }\r\n        }\r\n      );\r\n    },\r\n    Saveusername() {\r\n      this.$http(\r\n        Changeinfo({\r\n          username: this.username,\r\n        }),\r\n        (res) => {\r\n          console.log(res);\r\n          if (res.code == 200) {\r\n            uploadusername(this.username)\r\n            this.$message({\r\n              message: res.msg,\r\n              duration: 5 * 1000,\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: \"error\",\r\n              duration: 5 * 1000,\r\n            });\r\n          }\r\n        }\r\n      );\r\n    },\r\n  },\r\n  created() {\r\n    this.getuserinfo();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a2c706b6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2c706b6\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\nexport function upload(data) {\r\n    return request({\r\n        url: '/upload/',\r\n        method: 'post',\r\n        data: data,\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\nexport function authAdminLogin(data) {\r\n    return request({\r\n        url: '/login/signin',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}","import request from '@/utils/request'\r\n\r\nexport function UserInfo(data) {\r\n    return request({\r\n        url: '/account/info',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\nexport function Changeinfo(data) {\r\n    return request({\r\n        url: '/account/change/userinfo',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\nexport function Allaccount(data) {\r\n    return request({\r\n        url: '/account/allaccount',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\nexport function Createaccount(data) {\r\n    return request({\r\n        url: '/account/create',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}\r\n\r\nexport function Manage(data) {\r\n    return request({\r\n        url: '/account/manage',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadHead.vue?vue&type=style&index=0&id=6cd02f41&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadHead.vue?vue&type=style&index=0&id=6cd02f41&scoped=true&lang=css&\""],"sourceRoot":""}