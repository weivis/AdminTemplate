(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8717f11e"],{2817:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pagebar-title"},[t._v("新增农产品参数")]),a("div",{staticClass:"module"},[a("div",[t._v("网关")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Main.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"系统ID",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"农产品名称"}}),a("el-table-column",{attrs:{label:"更多",fixed:"right",width:"125",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.selF(e.row)}}},[t._v("选择")])]}}])})],1)],1),a("div",{staticClass:"module"},[a("div",[t._v("从机")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Sub.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"系统ID",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"农作物名称"}}),a("el-table-column",{attrs:{prop:"gbcode",label:"农作物国家编码"}}),a("el-table-column",{attrs:{label:"更多",fixed:"right",width:"125",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.selS(e.row)}}},[t._v("选择")])]}}])})],1)],1),a("div",{staticClass:"module"},[a("div",{staticClass:"mtitle"},[t._v("设备类型")]),a("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:t.form.quipment_type,callback:function(e){t.$set(t.form,"quipment_type",e)},expression:"form.quipment_type"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"module"},[a("el-button",{on:{click:function(e){return t.submit()}}},[t._v("添加")]),a("div",{staticClass:"r"},[a("router-link",{attrs:{to:{path:"/iot/product/detail",query:{product_id:this.product_id,principal_id:this.principal_id}}}},[a("el-button",[t._v("返回")])],1)],1)],1)])},r=[],o=a("42c2"),i=a("f564"),u=a("c4c8"),d={name:"gatewayAdd",data:function(){return{drawer:!1,form:{},Main:{form:{keyword:"",querypage:1},tableData:[],total:0,totalPage:0},Sub:{form:{keyword:"",querypage:1},tableData:[],total:0,totalPage:0},options:[{value:"1",label:"从机"},{value:"2",label:"摄像头"}]}},components:{},methods:{submit:function(){var t=this;this.$http(Object(u["d"])(this.form),(function(e){200==e.code?t.$message({message:e.msg,type:"success"}):t.$message({message:e.msg,type:"error",duration:5e3})}))},getMainlist:function(){var t=this;this.$http(Object(o["b"])({principal_id:this.principal_id}),(function(e){200==e.code?(t.$message({message:e.msg,type:"success"}),t.Main.total=e.data.total,t.Main.form.querypage=e.data.currentPage,t.Main.totalPage=e.data.totalPages,t.Main.tableData=e.data.result):t.$message({message:e.msg,type:"error",duration:5e3})}))},selF:function(t){console.log(t),this.Main.form.id=t.id,this.getSublist()},selS:function(t){this.form.equipmentbody_id=t.id,this.form.product_id=this.product_id,this.$message({message:"选择从机成功",type:"success"})},getSublist:function(){var t=this;this.$http(Object(i["c"])({gatewayid:this.Main.form.id,querypage:this.currentPage}),(function(e){200==e.code?(t.$message({message:e.msg,type:"success"}),t.Sub.total=e.data.total,t.Sub.form.querypage=e.data.currentPage,t.Sub.totalPage=e.data.totalPages,t.Sub.tableData=e.data.result):t.$message({message:e.msg,type:"error",duration:5e3})}))}},created:function(){this.product_id=this.$route.query.product_id,this.principal_id=this.$route.query.principal_id,this.getMainlist()}},s=d,c=a("2877"),l=Object(c["a"])(s,n,r,!1,null,"7f63f106",null);e["default"]=l.exports},"42c2":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o}));var n=a("b775");function r(t){return Object(n["a"])({url:"/gateway/query",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/gateway/addoredit",method:"post",data:t})}},c4c8:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"f",(function(){return s}));var n=a("b775");function r(t){return Object(n["a"])({url:"/product/addoredit",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/product/list",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/product/manager",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/product/obj/bind/addoredit",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/product/obj/bind/data",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/product/obj/bind/manager",method:"post",data:t})}},f564:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"d",(function(){return s})),a.d(e,"f",(function(){return c}));var n=a("b775");function r(t){return Object(n["a"])({url:"/equipment/body/list",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/equipment/body/addoredit",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/equipment/query",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/equipment/add",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/equipment/category/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/equipment/category/add",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/equipment/category/manager",method:"post",data:t})}}}]);
//# sourceMappingURL=chunk-8717f11e.d1978249.js.map